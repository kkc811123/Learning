[General]
# é€šç”¨è®¾ç½®
loglevel = notify
internet-test-url = http://www.baidu.com
proxy-test-url = http://www.google.com/generate_204
test-timeout = 3
ipv6 = true
ipv6-vif = auto

# DNSè®¾ç½®
dns-server = 223.5.5.5, 119.29.29.29, system
encrypted-dns-server = https://dns.alidns.com/dns-query
doh-skip-cert-verification = false
doh-format = json

# é«˜çº§è®¾ç½®
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153

# å…¼å®¹æ€§
compatibility-mode = false
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, passenger.t3go.cn
bypass-tun = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12

# å®éªŒæ€§åŠŸèƒ½
network-framework = false
exclude-simple-hostnames = true
show-error-page-for-reject = true

# æ–°ç‰ˆæœ¬åŠŸèƒ½
block-quic = true
include-all-networks = false
include-local-networks = false

[Replica]
# æŠ“åŒ…è®¾ç½®
hide-apple-request = true
hide-crash-reporter-request = true
hide-udp = false
keyword-filter-type = false

[Proxy]
# ä»£ç†æœåŠ¡å™¨é…ç½®ç¤ºä¾‹
# è¯·æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ä»£ç†æœåŠ¡å™¨ä¿¡æ¯

# Shadowsocks ç¤ºä¾‹
ğŸ‡ºğŸ‡¸ US Server = ss, your-server.com, 443, encrypt-method=aes-256-gcm, password=your-password
ğŸ‡­ğŸ‡° HK Server = ss, hk-server.com, 443, encrypt-method=aes-256-gcm, password=your-password

# Trojan ç¤ºä¾‹
ğŸ‡¯ğŸ‡µ JP Server = trojan, jp-server.com, 443, password=your-password, sni=jp-server.com

# HTTP/HTTPS ç¤ºä¾‹
ğŸ‡¸ğŸ‡¬ SG Server = http, sg-server.com, 80, username, password

# SOCKS5 ç¤ºä¾‹
ğŸ‡¬ğŸ‡§ UK Server = socks5, uk-server.com, 1080, username, password

[Proxy Group]

# ä»£ç†ç­–ç•¥ç»„

ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select, ğŸ‡ºğŸ‡¸ US Server, ğŸ‡­ğŸ‡° HK Server, ğŸ‡¯ğŸ‡µ JP Server, ğŸ‡¸ğŸ‡¬ SG Server, ğŸ‡¬ğŸ‡§ UK Server, DIRECT

ğŸ¯ å…¨çƒç›´è¿ = select, DIRECT

ğŸ’¬ äººå·¥æ™ºèƒ½ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡ºğŸ‡¸ US Server

ğŸµ ç½‘æ˜“éŸ³ä¹ = select, DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©

ğŸ¬ å›½å¤–åª’ä½“ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, DIRECT

ğŸ“º å›½å†…åª’ä½“ = select, DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©

ğŸ è‹¹æœæœåŠ¡ = select, DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©

ğŸŸ æ¼ç½‘ä¹‹é±¼ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, DIRECT

[Rule]
# è§„åˆ™é›†é…ç½®
# æœ¬åœ°ç½‘ç»œç›´è¿
RULE-SET,SYSTEM,DIRECT

# å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list,REJECT

# éšç§ä¿æŠ¤
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,REJECT

# è°·æ­ŒFCM
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GoogleFCM/GoogleFCM.list,DIRECT

# Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,DIRECT

# äººå·¥æ™ºèƒ½(OpenAI)
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,ğŸ’¬ äººå·¥æ™ºèƒ½

# ç½‘æ˜“äº‘éŸ³ä¹
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/NetEaseMusic/NetEaseMusic.list,ğŸµ ç½‘æ˜“éŸ³ä¹

# å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia.list,ğŸ¬ å›½å¤–åª’ä½“

# å›½å†…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,ğŸ“º å›½å†…åª’ä½“

# å¾®è½¯æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,DIRECT

# è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,ğŸ è‹¹æœæœåŠ¡

# å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy.list,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Direct/Direct.list,ğŸ¯ å…¨çƒç›´è¿

# ä¸­å›½ç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,ğŸ¯ å…¨çƒç›´è¿

# Local Area Network å±€åŸŸç½‘
RULE-SET,LAN,DIRECT

# GeoIP China ä¸­å›½
GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿

# æ¼ç½‘ä¹‹é±¼
FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼,dns-failed

[Host]
# DNSæ˜ å°„
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.alipay.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.google.com = server:8.8.8.8
*.youtube.com = server:8.8.8.8
*.facebook.com = server:1.1.1.1
*.twitter.com = server:1.1.1.1

# å›½å†…æŠ–éŸ³DNS
*.douyin.com = server:119.29.29.29
*.douyinpic.com = server:119.29.29.29
*.douyinvod.com = server:119.29.29.29
*.toutiao.com = server:119.29.29.29
*.pstatp.com = server:119.29.29.29
*.byteimg.com = server:119.29.29.29
*.bytedns.net = server:119.29.29.29
*.snssdk.com = server:119.29.29.29

# å›½å†…éŸ³ä¹ DNS
*.music.163.com = server:119.29.29.29
*.music.126.net = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.ydstatic.com = server:119.29.29.29

# æµ·å¤–æµåª’ä½“ä½¿ç”¨æ— æ±¡æŸ“DNS
*.netflix.com = server:1.1.1.1
*.youtube.com = server:8.8.8.8
*.google.com = server:1.0.0.1
github.com = server:1.1.1.1
*.github.com = server:1.1.1.1
*.githubusercontent.com = server:1.1.1.1


[URL Rewrite]
# URLé‡å†™è§„åˆ™
# é˜»æ­¢google.com è·³è½¬åˆ°google.com.hk
^https?:\/\/(www\.)?g\.cn https://www.google.com 302
^https?:\/\/(www\.)?google\.cn https://www.google.com 302

[Script]

[Header Rewrite]
# HTTPè¯·æ±‚å¤´é‡å†™
^https?://.*\.iqiyi\.com/.* header-add X-Forwarded-For 1.1.1.1

[MITM]
# HTTPSè§£å¯†è®¾ç½®
hostname = *.google.cn, *.google.com.hk, www.zhihu.com, api.zhihu.com, *.iqiyi.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com

# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = false

# MITM over HTTP/2
h2 = true

# è¯ä¹¦ç”Ÿæˆå™¨
ca-passphrase = Surge
ca-p12 = [è¯ä¹¦å†…å®¹éœ€è¦åœ¨Surgeä¸­ç”Ÿæˆ]
